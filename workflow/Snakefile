import warnings
from pathlib import Path
import snakemake.io as io
from snakemake.utils import min_version

##### set minimum snakemake version #####
min_version("7.14.0")

# IMPORT CONFIG VARIABLES
configfile: "config/config.yaml"


out = "results/"

rule all:
    input:
        expand(
            out+"apoe4/sim_pts/h{heritability}/b{beta}/manhattan.pdf",
            beta=config["apoe4"]["betas"],
            heritability=config["apoe4"]["heritabilities"],
        ) + expand(
            out+"ancestry/sim_pts/b{beta}/manhattan.pdf",
            beta=config["ancestry"]["betas"],
        ) + [out+"ancestry/power.pdf"]

module apoe4:
    snakefile: "rules/apoe4.smk"
    config: config["apoe4"]

module ancestry:
    snakefile: "rules/ancestry.smk"
    config: config["ancestry"]

use rule * from apoe4 as apoe4_*
use rule * from ancestry as ancestry_*
